import random
import string

NON_PERSON_TYPES = ["C", "H", "F", "A", "T", "B", "L", "J", "G"]

def random_letters(n):
    return ''.join(random.choice(string.ascii_uppercase) for _ in range(n))

def random_digits(n):
    return ''.join(random.choice(string.digits) for _ in range(n))

def random_entity_name(length=8):
    """Generate a random entity name (only alphabets)."""
    return ''.join(random.choice(string.ascii_uppercase) for _ in range(length))

def generate_non_person_pan_and_entity():
    """
    PAN FORMAT:
    - 1–3 : Random letters
    - 4   : 'P'
    - 5   : Non-person type
    - 6–9 : Digits
    - 10  : Letter
    """
    entity_name = random_entity_name()
    entity_type = random.choice(NON_PERSON_TYPES)   # 5th character

    part1 = random_letters(3)                       # AAA–ZZZ
    part2 = "P"                                     # 4th character fixed
    part3 = entity_type                             # 5th character (non-person type)
    part4 = random_digits(4)                        # digits
    part5 = random.choice(string.ascii_uppercase)   # last letter

    pan = part1 + part2 + part3 + part4 + part5

    return entity_name, pan